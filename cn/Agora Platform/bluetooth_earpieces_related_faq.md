
---
title: 蓝牙耳机相关
description: 
platform: 蓝牙耳机相关
updatedAt: Thu Nov 01 2018 08:09:44 GMT+0000 (UTC)
---
# 蓝牙耳机相关
# 蓝牙耳机相关

iOS 会自动为系统电话和 VoIP 通话选择音频路由，即使蓝牙设备已经连接，也不一定走蓝牙：

## 系统电话（包括 CallKit）

系统来电时：

* 如果用户是在 iPhone 设备上按了接听键，来电默认走 iPhone 听筒
* 如果用户是在蓝牙设备上按了接听键，来电默认走蓝牙。

系统的默认行为可以设置，在 iPhone 的 **设置 > 通用 > 辅助功能 > 音频通话方式**，上述行为是默认的自动。如果设为蓝牙耳机，则来电的时候即使在手机接听，也默认走蓝牙耳机。
在系统电话过程中，用户可以通过通话界面的外放按钮自行切换 **蓝牙**、**听筒**或**外放**。

## VoIP 通话

在发起 VoIP 通话的时候，系统会自动选择音频路由为：当前蓝牙设备连接后的最后一次系统电话或 VoIP 通话所使用的音频路由。如果蓝牙设备连接后没有过系统通话则使用蓝牙。
在 VoIP 通话过程中，用户可以通过系统控制中心（从屏幕下方上滑）自主切换音频路由。程序则可以通过 `setPreferredInput` 接口切换路由。

## 其他设定

用户指定或者程序指定了蓝牙设备为输入或输出时，系统会自动把输出或输入也切到蓝牙。不支持输入输出在两个不同设备上。

无线蓝牙音箱的录音功能只有系统电话级的才可以使用，如：系统电话、FaceTime、或 CallKit。

## 常见问题

Q：用蓝牙耳机在 Premium 的通话中，这时候接听了一个系统电话，再回 Premium 变成听筒了？
A：点了 iPhone 的接听按钮，系统电话和 VoIP 的默认路由变成了 iPhone 听筒。如果用蓝牙耳机上的按钮接听系统电话，再回 Premium 就能保持蓝牙耳机。

Q：iPhone 连着蓝牙耳机，但是 Premium 加入频道就自动变成 听筒 或 外放？
A：说明当前系统电话和 VoIP 的默认路由不是蓝牙耳机。Premium 通话的时候，在系统控制中心（从屏幕下方上滑）中手动切到蓝牙设备，下次再加入频道就默认是蓝牙了。

Q：为什么音乐播放可以自动切回蓝牙？
A：音乐播放不是 VoIP 通话，没有这个行为。

Q：为什么连着蓝牙音箱，进入通话是 听筒 或 外放？
A：除非使用 CallKit 框架，不然一个 App 的通话是无法由无线蓝牙音箱录音的，也就导致了无法使用无线蓝牙音箱播放。直播的观众模式，因为不需要录音，所以可以使用无线蓝牙音箱播放。


