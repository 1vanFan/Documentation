
---
title: Interactive Gaming API
description: 
platform: Unity
updatedAt: Fri Jan 11 2019 09:55:05 GMT+0000 (UTC)
---
# Interactive Gaming API
This document is provided for the C\# programming language with the following classes:

-   [IRtcEngineForGaming Abstract Class](#irtcengine): includes the main methods for the application to call.

-   [IAudioEffectManager Interface Class](#iaudioeffectmanager): includes the methods for the application to manage the audio effects.

<a name = "irtcengine"></a>
## IRtcEngineForGaming Abstract Class

### Create an IRtcEngineForGaming Instance

#### Get an IRtcEngineForGaming Instance (GetEngine)

```
public static IRtcEngineForGaming GetEngine (string appId);
```

This method gets an IRtcEngineForGaming instance. If none exists, it creates an instance. If the method call is successful, it returns the IRtcEngineForGaming instance (not null).

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>appId</code></td>
<td>App ID, see <a href="../../en/Agora%20Platform/token.md"><span>Get an App ID</span></a></td>
</tr>
</tbody>
</table>

#### Query an IRtcEngineForGaming Instance (QueryEngine)

```
public static IRtcEngineForGaming QueryEngine();
```

This method queries an IRtcEngineForGaming instance. Unlike `GetEngine`, `QueryEngine` does not create a new instance if none exists.

<a name = "voice"></a>
### Implement the Voice Function

#### Set the Channel Profile (SetChannelProfile)

```
public int SetChannelProfile(CHANNEL_PROFILE profile);
```

This method configures the channel profile. The Agora RtcEngine needs to know what scenario the application is in to apply different methods for optimization.

> -   Only one profile can be used at the same time in the same channel.
> -   This method must be called and configured before a user joins a channel because the channel profile cannot be configured when the channel is in use.


<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>profile</code></td>
<td><p>The channel profile. Choose from the following:</p>
<ul>
<li><code>CHANNEL_PROFILE _GAME_FREEMODE</code> = 0: Free Mode</li>
<li><code>CHANNEL_PROFILE _GAME_COMMANDMODE</code> = 1: Command Mode</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Set the User Role (SetClientRole)

```
public int SetClientRole(CLIENT_ROLE role);
```

This method sets the user role before joining a channel, and allows you to switch the user role after joining a channel.

> This method is only applicable when you set the channel profile as command mode when calling the `setChannelProfile`  method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>role</code></td>
<td><p>User role in a command-mode channel:</p>
<ul>
<li><code>CLIENT_ROLE_BROADCASTER</code> = 1: Host</li>
<li><code>CLIENT_ROLE_AUDIENCE</code> = 2: Audience (default)</li>
</ul>
<p>Once set, only the host in the channel can talk, not the audience.</p>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>

<a id = "joinChannel"></a>
<a name = "joinChannel"></a>
#### Join a Channel (JoinChannel)

```
public int JoinChannel (string token, string channelName, string optionalInfo, uint optionalUid);
```

This method allows a user to join a channel. Users in the same channel can talk to each other; and multiple users in the same channel can start a group chat. Users using different App IDs cannot call each other. Once in a call, the user must call the `leaveChannel` method to exit the current call before joining another channel.

> A channel does not accept duplicate UIDs, such as two users with the same UID. If your app supports logging in a user from different devices at the same time, ensure that you use different UIDs. For example, if you already use the same UID, make the UIDs different by adding the respective device ID to the UID. This is not applicable if your app does not support a user logging in from different devices at the same time. In this case, when you log in a new device, you will be logged out from the other device.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>token</code></td>
<td><p>A token generated by the application.</p>
<p>This parameter is optional if the user uses a static App ID. In this case, pass NULL as the parameter value.</p>
<p>If the user uses a token, Agora issues an additional App Certificate to you. You can then generate a user key using the algorithm and App Certificate provided by Agora for user authentication on the server.</p>
<p>In most cases, the static App ID will suffice. For added security, use a token.</p>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td><code>channelName</code></td>
<td><p>A string providing the unique channel name for the AgoraRTC session. The length must be within 64 bytes.</p>
<p>The following is the supported scope: 
<ul>
<li>The 26 lowercase English letters: a to z.</li>
<li>The 26 uppercase English letters: from A to Z.</li>
<li>The 10 numbers: 0 to 9.</li>
<li>Space.</li>
<li>"!", "#", "$", "%", "&", "(", ")", "+", "-", ":", ";", "<", "=", ".", ">", "?", "@", "[", "]", "^", "_", " {", "}", "|", "~", ",".</li>
</ul>

</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr/>
<tr><td><code>optionalInfo</code></td>
<td>(Optional) Additional information about the channel. Other users in the channel do not receive this information.</td>
</tr>
<tr><td><code>optionalUid</code></td>
<td><p>(Optional) User ID: A 32-bit unsigned integer ranging from 1 to (2^32-1). It must be unique. If not assigned (or set to 0), the SDK assigns one and returns it in the <code>onJoinChannelSuccess</code> callback. The app needs to record and maintain the returned value as the SDK does not maintain it.</p>
<p>The UID is represented as a 32-bit unsigned integer in the SDK. Since unsigned integers are not supported by Java, the UID is handled as a 32-bit signed integer and larger numbers are interpreted as negative numbers in Java. If necessary, the UID can be converted to a 64-bit integer through “uid&amp;0xffffffffL”.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
<ul>
<li>ERR_INVALID_ARGUMENT (-2): Invalid argument</li>
<li>ERR_NOT_READY (-3): Initialization failed</li>
</ul>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Enable the Audio Mode (EnableAudio)

```
public int EnableAudio();
```

This method enables the audio mode, which is enabled by default.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Disable the Audio Mode \(DisableAudio\)

```
public int DisableAudio();
```

This method disables the audio mode.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Leave a Channel (LeaveChannel)

```
public int LeaveChannel();
```

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Set the Audio Route

#### Set the Default Audio Route to the Speakerphone (setDefaultAudioRouteToSpeakerphone)

```
public int setDefaultAudioRouteToSpeakerphone(bool speakerphone);
```

This method sets the default audio route to the `speakerphone` or `earpiece`.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>speakerphone</code></td>
<td><ul>
<li>True: Sets the default audio route to the <em>speakerphone</em>.</li>
<li>False: Sets the default audio route to the <em>earpiece</em>.</li>
</ul>
</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
</tbody>
</table>

> On Unity for iOS, this method only works in audio mode.
> Once a headset is plugged in or a Bluetooth device is connected, the audio route is changed accordingly. Once removing the headset or disconnecting the Bluetooth device, the audio route is the default value.

The original default value for the audio route is as follows:

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Channel Mode</strong></td>
<td><strong>Original Default Audio Route</strong></td>
</tr>
<tr><td>Free Talk</td>
<td>Speakerphone</td>
</tr>
<tr><td>Command</td>
<td>Speakerphone</td>
</tr>
</tbody>
</table>



#### Set the Audio Route to the Speakerphone (SetEnableSpeakerphone)

```
public int SetEnableSpeakerphone (bool speakerphone)
```

This method sets the audio route to the *speakerphone*. Plugging in a headset or connecting a Bluetooth device does not affect the audio route.

After calling this method, the SDK returns the `onAudioRouteChanged` callback to indicate the changes.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>speakerphone</code></td>
<td><ul>
<li>True:<ul>
<li>If this method is called after a user joins a channel, the audio route of the user is the speakerphone.</li>
<li>If this method is called before a user joins a channel, when the user joins a channel, the audio route of the user is the speakerphone.</li>
</ul>
</li>
<li>False: Use the default audio route. See <code>setDefaultAudioRouteToSpeakerphone</code>.</li>
</ul>
</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
</tbody>
</table>



#### Check Whether the Audio Route is Set to the Speakerphone (isSpeakerphoneEnabled)

```
public bool IsSpeakerphoneEnabled()
```

This method checks whether the audio route is set to the speakerphone.

> The method is only valid on Unity for iOS and Unity for Android.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Set the Audio Volume

#### Enable the Audio Volume Indication (EnableAudioVolumeIndication)

```
public int EnableAudioVolumeIndication (int interval, int smooth);
```

This method enables or disables the audio volume indication.

This method enables the SDK to regularly report to the application on which users are talking and the volume of the speakers.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>interval</code></td>
<td><p>Time interval between two consecutive volume indications.</p>
<ul>
<li>&lt;=0 : Disables the volume indication.</li>
<li>&gt;0: Volume indication interval (ms). Recommend setting it to a minimum of 200 ms.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>smooth</code></td>
<td>Smoothing factor. The recommended default value is 3.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Mute the Audio and Video Stream

<a name = "enableLocalAudio"></a>

#### Enable/Disable the Local Audio Module (EnableLocalAudio)

```
public int EnableLocalAudio (bool enabled);
```

When an app joins a channel, the audio module is enabled by default. This method disables or re-enables the local audio capture, that is, to stop or restart local audio capturing and processing.

The SDK triggers the [OnMicrophoneEnabledHandler](#onMicrophoneEnabledHandler) callback once the local audio module is disabled or re-enabled.

This method does not affect receiving or playing the remote audio streams, and is applicable to scenarios where the user wants to receive remote audio streams without sending any audio stream to other users in the channel.

> - Call this method after calling the [JoinChannel](#joinChannel) method.
> - This method is different from the [muteLocalAudioStream](#muteLocalAudioStream) method:
>   - [EnableLocalAudio](#enableLocalAudio): Disables/Re-enables the local audio capture and processing. 
>   - [MuteLocalAudioStream](#muteLocalAudioStream): Stops/Continues sending the local audio streams.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>enabled</code></td>
<td>
Sets whether to disable/re-enable the local audio function:
<ul>
<li>True: (Default) Re-enable the local audio function, that is, to start local audio capture and processing.</li>
<li>False: Disable the local audio function, that is, to stop local audio capture and processing.</li>
</ul>
</td>
</tr>
<tr><td>Returns</td>
<td>
<ul>
<li>0: Success</li>
<li>&lt;0: Failure</li>
</ul>
</td>
</tr>
</tbody>
</table>

<a name = "muteLocalAudioStream"></a>
#### Mute the Local Audio Stream (MuteLocalAudioStream)

```
public int MuteLocalAudioStream (bool mute);
```

This method enables/disables sending local audio streams to the network.
> - This method is only valid in the channel. If you leave the channel, the mute settings are cleared. 

> - The difference between `EnableLocalAudio` and `MuteLocalAudioStream`:
 `EnableLocalAudio`: Disables/Re-enables the local audio capturing and processing.
 `MuteLocalAudioStream`: Stops/Continues sending the local audio streams.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Stops sending the local audio streams to the network.</li>
<li>False: Allows sending the local audio streams to the network.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Mute all Remote Audio Streams (MuteAllRemoteAudioStreams)

```
public int MuteAllRemoteAudioStreams (bool mute);
```

This method mutes/unmutes all remote users’ audio streams.
> This method is only valid in a channel. If you leave a channel, the mute settings are cleared. 

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Mutes all received audio streams.</li>
<li>False: Unmutes all received audio streams.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Mute a Remote Audio Stream (MuteRemoteAudioStream)

```
public int MuteRemoteAudioStream (uint uid, bool mute);
```

This method mutes/unmutes a specified remote user’s audio stream.
> This method is only valid in a channel. If you leave a channel, the mute settings are cleared. 

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID of the user whose audio stream is to be muted.</td>
</tr>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Mutes the user’s audio stream.</li>
<li>False: Unmutes the user’s audio stream.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>

<a name = "setDefaultMuteAllRemoteAudioStreams"></a>
#### Receive all Remote Audio Streams by Default (setDefaultMuteAllRemoteAudioStreams)

```c#
public int setDefaultMuteAllRemoteAudioStreams(bool mute);
```

Sets whether to receive all remote audio streams by default.

> Call this method either before or after joining a channel. If you call this method after joining the channel, the audio streams of subsequent remote users are not received.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>mute</code></td>
<td>
Sets whether or not to receive/stop receiving all remote audio streams by default:
<ul>
<li>true: Stop receiving all remote audio streams by default.</li>
<li>false: (Default) Receive all remote audio streams by default.</li>
</ul>
</td>
</tr>
<tr><td>Returns</td>
<td>
<ul>
<li>0: Succes</li>
<li>&lt;0: Failure</li>
</ul>
</td>
</tr>
</tbody>
</table>



#### Get the SDK Version (GetSdkVersion)

```
public static string GetSdkVersion ();
```

This method returns the string of the version number in character format.

#### Get the Error Description (GetErrorDescription)

```
public static string GetErrorDescription (int code);
```

This method returns the error code when an error is detected during SDK runtime.

### Audio Mixing

#### Start Audio Mixing (StartAudioMixing)

```
public int StartAudioMixing (string filePath, bool loopback, bool replace, int cycle, int playTime = 0);
```

This method mixes the specified local audio file with the audio stream from the microphone; or, it replaces the microphone’s audio stream with the specified local audio file. You can choose whether the other user can hear the local audio playback and specify the number of loop playbacks. This method also supports online music playback.

> Call this method when you are in a channel, otherwise it may cause issues.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>filePath</code></td>
<td><p>Name and path of the local audio file to be mixed.</p>
<p>Supported audio formats: mp3, aac, m4a, 3gp, and wav.</p>
</td>
</tr>
<tr/>
<tr><td><code>loopback</code></td>
<td><ul>
<li>True: Only the local user can hear the remix or the replaced audio stream.</li>
<li>False: Both users can hear the remix or the replaced audio stream.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td><code>replace</code></td>
<td><ul>
<li>True: The content of the local audio file replaces the audio stream from the microphone.</li>
<li>False: Mix the content of the local audio file with the audio stream from the microphone.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td><code>cycle</code></td>
<td><p>Number of loop playbacks:</p>
<ul>
<li>Positive integer: Number of loop playbacks.</li>
<li>-1: Infinite loop.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>playTime</code></td>
<td><p>Playback starting position (ms) of the audio file.</p>
<p>0 means from the beginning.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Stop Audio Mixing (StopAudioMixing)

```
public int StopAudioMixing();
```

This method stops mixing the specified local audio with the microphone input. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Pause Audio Mixing (PauseAudioMixing)

```
public int PauseAudioMixing();
```

This method pauses mixing the specified local audio with the microphone input. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Resume Audio Mixing (ResumeAudioMixing)

```
public int ResumeAudioMixing();
```

This method resumes mixing the specified local audio with the microphone input. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Adjust the Audio Mixing Volume (AdjustAudioMixingVolume)

```
public int AdjustAudioMixingVolume (int volume);
```

This method adjusts the volume during audio mixing. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>volume</code></td>
<td>Audio mixing volume. The value ranges between 0 and 100. By default, 100 is the original volume.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Get the Audio Mixing Duration (GetAudioMixingDuration)

```
public int GetAudioMixingDuration();
```

This method gets the duration (ms) of the audio mixing. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Get the Current Audio Position (GetAudioMixingCurrentPosition)

```
public int GetAudioMixingCurrentPosition();
```

This method gets the playback position (ms) of the audio. Call this method when you are in a channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Recording

#### Start an Audio Recording (StartAudioRecording)

```
public int StartAudioRecording(string filePath);
```

This method starts an audio recording. The SDK allows recording during a call, which supports the following formats:

- .wav: Large file size with high fidelity.
- .aac: Small file size with low fidelity.


Ensure that the directory to save the recording file exists and is writable. This method is usually called after joining a channel. The recording automatically stops when you call the `LeaveChannel` method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>filePath</code></td>
<td>Full file path of the recording file. The string of the file name is in UTF-8.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded</li>
<li>&lt;0: Method call failed</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Stop an Audio Recording (StopAudioRecording)

```
public int StopAudioRecording();
```

This method stops recording on the client.

Call this method before calling the `LeaveChannel` method. Otherwise, the recording automatically stops when you call the `LeaveChannel` method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Adjust the Recording Volume (AdjustRecordingSignalVolume)

```
public int AdjustRecordingSignalVolume (int volume);
```

This method adjusts the recording volume.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>volume</code></td>
<td><p>Recording volume. The value ranges between 0 to 400:</p>
<ul>
<li>0: Mute.</li>
<li>100: Original volume.</li>
<li>400: (Maximum) Four times the original volume with heap overflow protection.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Adjust the Playback Volume (AdjustPlaybackSignalVolume)

```
public int AdjustPlaybackSignalVolume (int volume);
```

This method adjusts the playback volume.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>volume</code></td>
<td><p>Playback volume. The value ranges between 0 to 400:</p>
<ul>
<li>0: Mute.</li>
<li>100: Original volume.</li>
<li>400: (Maximum) Four times the original volume with heap overflow protection.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Start an Audio Call Test (StartEchoTest)

```
public int StartEchoTest();
```

This method launches an audio call test to determine whether the audio devices (for example, headset and speaker) and the network connection work properly. In this test, the user speaks first and the recording is played back in 10 seconds. If the user can hear what the recording in 10 seconds, the audio devices and network connection work properly.

> After calling the `startEchoTest` method, call the `stopEchoTest` method to end the test. Otherwise, the application cannot run the next echo test, nor can you call the joinChannel method to start a new call.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
<ul>
<li>ERR_REFUSED (-5): Failed to launch the echo test. For example, initialization failed.</li>
</ul>
</ul>
</td>
</tr>
<tr/>
<tr/>
</tbody>
</table>



#### Stop an Audio Call Test (StopEchoTest)

```
public int StopEchoTest();
```

This method stops an audio call test.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
<ul>
<li>ERR_REFUSED(-5): Failed to stop the echo test. Maybe the echo test is not running.</li>
</ul>
</ul>
</td>
</tr>
<tr/>
<tr/>
</tbody>
</table>



#### Retrieve the Current Call ID (GetCallId)

```
public string GetCallId();
```

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td>Current call ID.</td>
</tr>
</tbody>
</table>



#### Rate the Call (Rate)

```
public int Rate(string callId, int rating, string desc);
```

This method allows a user to rate a call and is usually called after the call ends.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>callId</code></td>
<td>Call ID retrieved from the getCallId method.</td>
</tr>
<tr><td><code>rating</code></td>
<td>Rating for the call between 1 (lowest score) to 10 (highest score).</td>
</tr>
<tr><td><code>desc</code></td>
<td><p>(Optional) The description of the rating with a length of less than 800 bytes.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
<ul>
<li>ERR_INVALID_ARGUMENT (-2): The passed argument is invalid. For example, the callId is invalid.</li>
<li>ERR_NOT_READY (-3): The SDK status is incorrect. For example, initialization failed.</li>
</ul>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
</tbody>
</table>



#### Complain about the Call Quality (Complain)

```
public int Complain(string callId, string desc);
```

This method allows a user to complain about the call quality and is usually called after the call ends.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>callId</code></td>
<td>Call ID retrieved from the getCallId method.</td>
</tr>
<tr><td><code>desc</code></td>
<td><p>(Optional) The description of the complaint with a length of less than 800 bytes.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
<ul>
<li>ERR_INVALID_ARGUMENT (-2): The passed argument is invalid. For example, the callId is invalid.</li>
<li>ERR_NOT_READY (-3): The SDK status is incorrect. For example, initialization failed.</li>
</ul>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
</tbody>
</table>



#### Pause the Audio (Pause)

```
public void Pause ();
```

This method pauses the audio. For example in background mode, you can call this method to pause the audio.

#### Resume the Audio (Resume)

```
public void Resume ();
```

This method resumes the paused audio.

> The `Pause`/`Resume` methods have dependencies with the `EnableLocalAudio` method. For example, when the `enabled` parameter is set as `False` in the `EnableLocalAudio` method to disable the local audio, calling `Resume` enables the local audio again.


#### Destroy an Engine Instance (Destroy)

```
public static void Destroy();
```

This method releases all resources used by the Agora SDK.  This is useful for applications that occasionally make voice or video calls, to free up resources for other operations when not making calls.

Once the application calls `destroy` to destroy the created RtcEngine instance,
no other methods in the SDK can be used and no callbacks occur.


### Implement the Video Function

Before you implement the video function, see [Implement the Voice Function](#voice). The basic video function is based on the APIs listed in [Implement the Voice Function](#voice).

#### Enable the Video Mode (EnableVideo)

```
public int EnableVideo ();
```

This method enables the video mode. You can call this method either before joining a channel or during a call. If you call this method before joining a channel, the service starts in the video mode. If you call this method during a call, the audio mode switches to the video mode. To disable the video mode, call the `DisableVideo` method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Disable the Video Mode (DisableVideo)

```
public int DisableVideo ();
```

This method disables the video mode. You can call this method either before joining a channel or during a call. If you call this method before joining a channel, the service starts in the audio mode. If you call this method during a call, the video mode switches to the audio mode. To enable the video mode, call the `EnableVideo` method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Set the Video Profile (SetVideoProfile)

```
public int SetVideoProfile(int profile, bool swapWidthAndHeight);
```

This method sets the video encoding profile. Each profile includes a set of parameters such as the resolution, frame rate, and bitrate. When the camera does not support the specified resolution, the SDK chooses a suitable camera resolution, but the encoder resolution still uses the one specified by this method.

This method only sets the attributes of the streams encoded by the encoder which may be inconsistent with the final display. For example, if the resolution of the encoded stream is 640 x 480 and the rotating attribute of the stream is 90 degrees, then the resolution of the final display is in portrait mode.

> -   Always set the video profile after calling the `EnableVideo` method.
> -   Always set the video profile before calling the `joinChannel`/`startPreview` method.


<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>profile</code></td>
<td>Video profile. See Video Profile Definition for details.</td>
</tr>
<tr><td><code>swapWidthAndHeight</code></td>
<td><p>Whether to swap the width and height of the stream:</p>
<ul>
<li>true: Swap</li>
<li>false: No swap (default)</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



**Video Profile Definition**

<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Video Profile</strong></td>
<td><strong>Enumeration Value</strong></td>
<td><strong>Resolution (Width x Height)</strong></td>
<td><strong>Frame Rate (fps)</strong></td>
<td><strong>Bitrate (Kbps)</strong></td>
</tr>
<tr><td>120P</td>
<td>0</td>
<td>160 x 120</td>
<td>15</td>
<td>65</td>
</tr>
<tr><td>120P_3</td>
<td>2</td>
<td>120 x 120</td>
<td>15</td>
<td>50</td>
</tr>
<tr><td>180P</td>
<td>10</td>
<td>320 x 180</td>
<td>15</td>
<td>140</td>
</tr>
<tr><td>180P_3</td>
<td>12</td>
<td>180 x 180</td>
<td>15</td>
<td>100</td>
</tr>
<tr><td>180P_4</td>
<td>13</td>
<td>240 x 180</td>
<td>15</td>
<td>120</td>
</tr>
<tr><td>240P</td>
<td>20</td>
<td>320 x 240</td>
<td>15</td>
<td>200</td>
</tr>
<tr><td>240P_3</td>
<td>22</td>
<td>240 x 240</td>
<td>15</td>
<td>140</td>
</tr>
<tr><td>240P_4</td>
<td>24</td>
<td>424 x 240</td>
<td>15</td>
<td>220</td>
</tr>
<tr><td>360P</td>
<td>30</td>
<td>640 x 360</td>
<td>15</td>
<td>400</td>
</tr>
<tr><td>360P_3</td>
<td>32</td>
<td>360 x 360</td>
<td>15</td>
<td>260</td>
</tr>
<tr><td>360P_4</td>
<td>33</td>
<td>640 x 360</td>
<td>30</td>
<td>600</td>
</tr>
<tr><td>360P_6</td>
<td>35</td>
<td>360 x 360</td>
<td>30</td>
<td>400</td>
</tr>
<tr><td>360P_7</td>
<td>36</td>
<td>480 x 360</td>
<td>15</td>
<td>320</td>
</tr>
<tr><td>360P_8</td>
<td>37</td>
<td>480 x 360</td>
<td>30</td>
<td>490</td>
</tr>
<tr><td>360P_9</td>
<td>38</td>
<td>640 x 360</td>
<td>15</td>
<td>800</td>
</tr>
<tr><td>360P_10</td>
<td>39</td>
<td>640 x 360</td>
<td>24</td>
<td>800</td>
</tr>
<tr><td>360P_11</td>
<td>100</td>
<td>640 x 360</td>
<td>24</td>
<td>1000</td>
</tr>
<tr><td>480P</td>
<td>40</td>
<td>640 x 480</td>
<td>15</td>
<td>500</td>
</tr>
<tr><td>480P_3</td>
<td>42</td>
<td>480 x 480</td>
<td>15</td>
<td>400</td>
</tr>
<tr><td>480P_4</td>
<td>43</td>
<td>640 x 480</td>
<td>30</td>
<td>750</td>
</tr>
<tr><td>480P_6</td>
<td>45</td>
<td>480 x 480</td>
<td>30</td>
<td>600</td>
</tr>
<tr><td>480P_8</td>
<td>47</td>
<td>848 x 480</td>
<td>15</td>
<td>610</td>
</tr>
<tr><td>480P_9</td>
<td>48</td>
<td>848 x 480</td>
<td>30</td>
<td>930</td>
</tr>
<tr><td>720P</td>
<td>50</td>
<td>1280 x 720</td>
<td>15</td>
<td>1130</td>
</tr>
<tr><td>720P_3</td>
<td>52</td>
<td>1280 x 720</td>
<td>30</td>
<td>1710</td>
</tr>
<tr><td>720P_5</td>
<td>54</td>
<td>960 x 720</td>
<td>15</td>
<td>910</td>
</tr>
<tr><td>720P_6</td>
<td>55</td>
<td>960 x 720</td>
<td>30</td>
<td>1380</td>
</tr>
<tr><td>1080P</td>
<td>60</td>
<td>1920 x 1080 <sup>[1]</sup></td>
<td>15</td>
<td>2080</td>
</tr>
<tr><td>1080P_3</td>
<td>62</td>
<td>1920 x 1080 <sup>[1]</sup></td>
<td>30</td>
<td>3150</td>
</tr>
<tr><td>1080P_5</td>
<td>64</td>
<td>1920 x 1080 <sup>[1]</sup></td>
<td>60</td>
<td>4780</td>
</tr>
</tbody>
</table>


> [1] Whether the video can achieve 1080p resolution depends on the performance and capabilities of the device. Devices with lower performances may experience low frame rates when using 1080p. Agora will optimize the video for lower-end devices in future releases. Contact [support@agora.io](mailto:support@agora.io) for details.

#### Enable Dual-stream Mode (EnableDualStreamMode)

```
public int EnableDualStreamMode(bool enabled);
```

This method sets the stream mode: Single-stream (default) or dual-stream, which is only applicable when you set the channel profile as command mode when calling the `setChannelProfile` method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>enabled</code></td>
<td><p>The mode is in single-stream or dual-stream:</p>
<ul>
<li>true: Dual stream.</li>
<li>false: Single stream.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Set the Video Stream Type (SetRemoteVideoStreamType)

```
public int SetRemoteVideoStreamType(uint uid, int streamType);
```

This method specifies the video stream type of the remote user to be received by the local user when the remote user sends dual streams. This method allows the application to adjust the corresponding video stream type according to the size of the video windows to save the bandwidth and resources.

The Agora SDK receives the high-stream video by default. If needed, users can switch to the low-stream video using this method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID</td>
</tr>
<tr><td><code>streamType</code></td>
<td><p>Set the video stream size.</p>
<p>The following lists the video stream types:</p>
<ul>
<li>REMOTE_VIDEO_STREAM_HIGH(0): High-stream video</li>
<li>REMOTE_VIDEO_STREAM_LOW(1): Low-stream video</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>

The resolutions of the high-stream videos are 1:1, 4:3, and 16:9. The low-stream video has the same aspect ratio:

<table>
<colgroup>
<col/>
<col/>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Resolution</th>
<th>Frame Rate</th>
<th>Keyframe Interval</th>
<th>Bitrate (Kbps)</th>
</tr>
</thead>
<tbody>
<tr><td>160 x 160</td>
<td>5</td>
<td>5</td>
<td>45</td>
</tr>
<tr><td>160 x 120</td>
<td>5</td>
<td>5</td>
<td>32</td>
</tr>
<tr><td>160 x 90</td>
<td>5</td>
<td>5</td>
<td>28</td>
</tr>
</tbody>
</table>



#### Set High-quality Video Preferences (SetVideoQualityParameters)

```
public int SetVideoQualityParameters(bool preferFrameRateOverImageQuality);
```

This method allows users to set the video preferences.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>preferFrameRateOverImageQuality</code></td>
<td><p>Video preference to be set:</p>
<ul>
<li>True: Frame rate over image quality.</li>
<li>False: (Default) Image quality over frame rate.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Disable the Local Video (EnableLocalVideo)

```
public int EnableLocalVideo (bool enabled);
```

This method disables the local video, which is only applicable to the scenario when the user only wants to watch the remote video without sending any video stream to the other user. This method does not require a local camera.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>enabled</code></td>
<td><ul>
<li>true: (Default) Enable the local video.</li>
<li>false: Disable the local video.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Start the Video Preview (StartPreview)

```
public int StartPreview ();
```

This method starts the local video preview.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Stop the Video Preview (StopPreview)

```
public int StopPreview ();
```

This method stops the local video preview and closes the video.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Switch Between Front and Back Cameras (SwitchCamera)

```
public int SwitchCamera();
```

This method switches between front and back cameras.

> The method is only valid on Unity for iOS and Unity for Android.

#### Enable the Video Observer (EnableVideoObserver)

```
public int EnableVideoObserver ();
```

This method sends the video directly to the app instead of to the traditional view renderer.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>


#### Disable the Video Observer (DisableVideoObserver)

```
public int DisableVideoObserver ();
```

This method disables sending the video directly to the app.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Mute the Local Video Stream (MuteLocalVideoStream)

```
public int MuteLocalVideoStream(bool mute);
```

This method enables/disables sending local video streams to the network. When set as `True`, this method does not disable the camera and thus does not affect getting the local video streams.
> This method is only valid in a channel. If you leave a channel, the mute settings are cleared. 

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Stops sending local video streams to the network.</li>
<li>False: Allows sending local video streams to the network.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>


#### Mute all Remote Video Streams (MuteAllRemoteVideoStreams)

```
public int MuteAllRemoteVideoStreams(bool mute);
```

This method enables/disables playing all remote users’ video streams. When set as `True`, this method stops playing video streams without affecting the video stream receiving process.
> This method is only valid in a channel. If you leave a channel, the mute settings are cleared. 

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Stops playing all received video streams.</li>
<li>False: Allows playing all received video streams.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Mute a Specified Remote Video Stream (MuteRemoteVideoStream)

```
public int MuteRemoteVideoStream(uint uid, bool mute);
```

This method pauses/resumes playing a specified user’s video, that is, enables/disables playing a specified user’s video stream.
> This method is only valid in a channel. If you leave a channel, the mute settings are cleared. 

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID of the specified user.</td>
</tr>
<tr><td><code>mute</code></td>
<td><ul>
<li>True: Stops playing a specified user’s video stream.</li>
<li>False: Allows playing a specified user’s video stream.</li>
</ul>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>

<a name = "setDefaultMuteAllRemoteVideoStreams"></a>

#### Receive all Remote Video Streams by Default (setDefaultMuteAllRemoteVideoStreams)

```c#
public int setDefaultMuteAllRemoteVideoStreams(bool mute);
```

Sets whether to receive all remote video streams by default.

> Call this method either before or after joining a channel. If you call this method after joining the channel, the video streams of subsequent remote users are not received.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>mute</code></td>
<td>
Sets whether or not to receive/stop receiving all remote video streams by default:
<ul>
<li>True：Stop receiving all remote video streams by default.</li>
<li>False: (Default) Receive all remote users' video streams by default.</li>
</ul>
</td>
</tr>
<tr><td>Returns</td>
<td>
<ul>
<li>0: Succes</li>
<li>&lt;0: Failure</li>
</ul>
</td>
</tr>
</tbody>
</table>



### Encryption

#### Enable Built-in Encryption (SetEncryptionSecret)

```
public int SetEncryptionSecret(string secret)；
```

Call this method to specify an encryption password to enable built-in encryption before joining a channel, otherwise the communication is unencrypted. All users in a channel must set the same encryption password. The encryption password is automatically cleared once a user has left the channel. If the encryption password is not specified or set to empty, the encryption function is disabled.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>secret</code></td>
<td>Encryption password.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Set the Built-in Encryption Mode (SetEncryptionMode)

```
public int SetEncryptionMode(string encryptionMode)；
```

The Agora SDK supports built-in encryption in AES-128-XTS mode by default. To use other modes, call this method to set the encryption mode.

All users in the same channel must use the same encryption mode and password. Refer to the information related to the AES encryption algorithm on the differences between encryption modes.

Call the `setEncryptionSecret` method to enable the built-in encryption function before calling this method.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>encryptionMode</code></td>
<td><p>Encryption mode. The following modes are supported:</p>
<ul>
<li><code>“aes-128-xts”</code>: 128-bit AES encryption, XTS mode.</li>
<li><code>“aes-128-ecb”</code>: 128-bit AES encryption, ECB mode.</li>
<li><code>“aes-256-xts”</code>: 256-bit AES encryption, XTS mode.</li>
<li><code>“”</code>: When set to a NUL string, the encryption is in “aes-128-xts” mode by default.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Others

#### Set the Log Filter (SetLogFilter)

```
public int SetLogFilter (LOG_FILTER filter);
```

This method sets the SDK output log filter.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>filter</code></td>
<td><p>Sets the levels of the filters.</p>
<ul>
<li>1: INFO</li>
<li>2: WARNING</li>
<li>4: ERROR</li>
<li>8: FATAL</li>
<li>0x800: DEBUG</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr/>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Set a Log File (SetLogFile)

```
public int SetLogFile (string filePath);
```

This method sets the path to save the log file.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>filePath</code></td>
<td>Path to save the log file.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Renew the Token (RenewToken)

```
public override int RenewToken (string token);
```

This method renews the token.

The token expires after a certain period of time once the token schema is enabled when:

- The `onError` callback reports the ERR_TOKEN_EXPIRED (109) error, or
- The `onRequestToken` callback reports the ERR_TOKEN_EXPIRED (109) error.

The application should retrieve a new token and then call this method to renew it. Failure to do so will result in the SDK disconnecting from the server.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>token</code></td>
<td>Specifies the token to be renewed.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Callbacks

> All callbacks are returned in the main thread.

#### Join a Channel Callback (JoinChannelSuccessHandler)

```
public delegate void JoinChannelSuccessHandler (string channelName, uint uid, int elapsed);
```

The SDK triggers this callback when a user joins a channel successfully.

The channel ID is assigned based on the channel name specified in the `JoinChannel` method. If the User ID is not specified when you call the `JoinChannel` method, the server automatically assigns one.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>channel</code></td>
<td>Channel Name.</td>
</tr>
<tr><td><code>uid</code></td>
<td><p>User ID.</p>
<p>If uid is specified in the <code>joinChannel</code> method, it returns the specified ID; if not, it returns an ID that is automatically assigned by the Agora server.</p>
</td>
</tr>
<tr/>
<tr><td><code>elapsed</code></td>
<td>Time elapsed (ms) from calling the <code>joinChannel</code> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>



#### Rejoin a Channel Callback (ReJoinChannelSuccessHandler)

```
public delegate void ReJoinChannelSuccessHandler (string channelName, uint uid, int elapsed);
```

The SDK triggers this callback when the user re-joins a channel successfully.

When a client loses connection with the server because of network problems, the SDK automatically attempts to reconnect, and then the SDK triggers this callback upon reconnection.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>channel</code></td>
<td>Channel Name.</td>
</tr>
<tr><td><code>uid</code></td>
<td><p>User ID.</p>
<p>If the uid is specified in the <code>JoinChannel</code> method, it returns the specified uid.</p>
<p>If not, it returns a uid that is automatically assigned by the Agora server.</p>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>elapsed</code></td>
<td>Time elapsed (ms) from calling the <em>JoinChannel()</em> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>



#### Connection Interrupted Callback (ConnectionInterruptedHandler)

```
public delegate void ConnectionInterruptedHandler ();
```

This callback indicates that the connection between the SDK and server is lost. The SDK tries to reconnect until the application calls the `LeaveChannel` method.

#### Connection Lost Callback (ConnectionLostHandler)

```
public delegate void ConnectionLostHandler ();
```

When the connection between the SDK and server is lost, the SDK triggers the `ConnectionInterruptedHandler` callback and reconnects automatically. If reconnection fails within a certain period of time (10 seconds by default), the SDK triggers the `ConnectionLostHandler` callback. The SDK continues to reconnect until the application calls the `leaveChannel` method.

#### Other User Joined the Channel Callback (UserJoinedHandler)

```
public delegate void UserJoinedHandler (uint uid, int elapsed);
```

The SDK triggers this callback when the other user joins a channel.

This callback notifies the application that another user has joined the channel. If there are other users in the channel when that user joins, the SDK also reports to the application on the existing users who are already in the channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID.</td>
</tr>
<tr><td><code>elapsed</code></td>
<td>Time interval (ms) from calling the <code>JoinChannel()</code> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>



#### Other User is Offline Callback (UserOfflineHandler)

```
public delegate void UserOfflineHandler (uint uid, USER_OFFLINE_REASON reason);
```

This callback notifies the application that a user has left a channel or gone offline.

The SDK reads the timeout data to determine if a user has left a channel (or has gone offline). If no data package is received from the user in 15 seconds, the SDK assumes the user is offline. Sometimes a weak network connection may lead to false detections; therefore, it is recommend to use signaling for reliable offline detection.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID.</td>
</tr>
<tr><td><code>reason</code></td>
<td><p>The SDK triggers this callback when:</p>
<ul>
<li><code>USER_OFFLINE_QUIT</code>: The user quit the call.</li>
<li><code>USER_OFFLINE_DROPPED</code>: The SDK timed out and has dropped offline because it has not received any data packet within a certain period of time.</li>
</ul>
<p>If a user quits a call and the message is not passed to the SDK (due to an unreliable channel), the SDK assumes the callback has timed out.</p>
</td>
</tr>
<tr/>
<tr/>
<tr/>
</tbody>
</table>



#### Leave a Channel Callback (LeaveChannelHandler)

```
public delegate void LeaveChannelHandler (RtcStats stats);
```

The SDK triggers this callback when a user has left a channel.

When the application calls the `LeaveChannel` method, the SDK uses this callback to notify the application that a user has successfully left a channel. With this callback, the application retrieves information such as the call duration and the statistics of data received/transmitted by the SDK.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>stat</code></td>
<td><p>The statistics about the call:</p>
<ul>
<li><code>duration</code>: Call duration (s).</li>
<li><code>txBytes</code>: Total number of bytes transmitted.</li>
<li><code>rxBytes</code>: Total number of bytes received.</li>
<li><code>txKBitRate</code>: Transmission bitrate (Kbps).</li>
<li><code>rxKBitRate</code>: Receive bitrate (Kbps).</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr/>
<tr/>
</tbody>
</table>



```
struct RtcStats {
    unsigned int duration;
    unsigned int txBytes;
    unsigned int rxBytes;
    unsigned short txKBitRate;
    unsigned short rxKBitRate;
  };
```

#### Audio Volume Indication Callback (VolumeIndicationHandler)

```
public delegate void VolumeIndicationHandler (AudioVolumeInfo[] speakers, int speakerNumber, int totalVolume);
```

This callback indicates the speakers who are talking and the speakers' volume. This callback is disabled by default. You need to call the `enableAudioVolumeIndication` method to enable this callback.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>speakers</code></td>
<td><p>The speaker (array). Each speaker () includes:</p>
<ul>
<li><code>uid</code>: User ID of the speaker.</li>
<li><code>volume</code>: Volume of the speaker. The value ranges between 0 (lowest volume) and 255 (highest volume).</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>speakerNumber</code></td>
<td>Number of the speakers</td>
</tr>
<tr><td><code>totalVolume</code></td>
<td>Total volume after audio mixing. The value ranges between 0 (lowest volume) to 255 (highest volume).</td>
</tr>
</tbody>
</table>


<a name ="onFirstRemoteAudioFrameHandler"></a>
#### First Remote Audio Frame Received Callback (OnFirstRemoteAudioFrameHandler)

```c#
public delegate void OnFirstRemoteAudioFrameHandler (uint userId, int elapsed);
```

The SDK triggers this callback when the first remote audio frame is received.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>userId</code></td>
<td>User ID of the remote user.</td>
</tr>
<tr>
<td><code>elapsed</code></td>
<td>Time elapsed (ms) from the remote user calling the <a href="#joinChannel">JoinChannel</a> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>

<a name ="onFirstLocalAudioFrameHandler"></a>

#### First Local Audio Frame Sent Callback (OnFirstLocalAudioFrameHandler)

```c#
public delegate void OnFirstLocalAudioFrameHandler (int elapsed);
```

The SDK triggers this callback when the first local audio frame is sent.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>elapsed</code></td>
<td>Time elapsed (ms) from the local user calling the <a href="#joinChannel">JoinChannel</a> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>



#### Other User Muted the Audio Callback (UserMutedHandler)

```
public delegate void UserMutedHandler (uint uid, bool muted);
```

This callback indicates that another user has muted/unmuted his/her audio stream.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID.</td>
</tr>
<tr><td><code>muted</code></td>
<td><ul>
<li>True: The user has muted his/her audio.</li>
<li>False: The user has unmuted his/her audio.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



#### Warning Occurred Callback (SDKWarningHandler)

```
public delegate void SDKWarningHandler (int warn, string msg);
```

This callback indicates that some warning occurred during SDK runtime. In most cases, the application can ignore the warnings reported by the SDK, because the SDK can usually fix the issue and resume running. For instance, the SDK may report an ERR_OPEN_CHANNEL_TIMEOUT warning upon disconnection with the server and attempts to reconnect.

> For detailed warning codes, see [Error Codes and Warning Codes](../../en/API%20Reference/the_error_game.md).

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>warn</code></td>
<td>The warning code.</td>
</tr>
<tr><td><code>msg</code></td>
<td>The warning message.</td>
</tr>
</tbody>
</table>



#### Error Occurred Callback (SDKErrorHandler)

```
public delegate void SDKErrorHandler (int error, string msg);
```

This callback indicates that a network or media error occurred during SDK runtime. In most cases, reporting an error means that the SDK cannot fix the issue and resume running, and therefore requires actions from the application or simply informs the user on the issue. For instance, the SDK reports an ERR_START_CALL error when failing to initialize a call. In this case, the application informs the user that the call initialization failed and calls the `LeaveChannel` method to exit the channel.

> For detailed error codes, see [Error Codes and Warning Codes](../../en/API%20Reference/the_error_game.md).

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>err</code></td>
<td>The error code.</td>
</tr>
<tr><td><code>msg</code></td>
<td>The error message.</td>
</tr>
</tbody>
</table>



#### RtcEngine Statistics Callback (RtcStatsHandler)

```
public delegate void RtcStatsHandler (RtcStats stats);
```

The SDK updates the application on the statistics of the RtcEngine runtime status once every two seconds.

#### Audio Mixing Playback Finished (AudioMixingFinishedHandler)

```
public delegate void AudioMixingFinishedHandler ();
```

The SDK triggers this callback when the playback of the audio mixing file is finished.

#### Audio Route Changed Callback (AudioRouteChangedHandler)

```
public delegate void AudioRouteChangedHandler (AUDIO_ROUTE route);
```

The SDK notifies the application that the audio route is changed, and is switched to an earpiece, speakerphone, headset, or Bluetooth device.


<a name = "onApiExecutedHandler"></a>

#### API Executed Callback (OnApiExecutedHandler)

```c#
public delegate void OnApiExecutedHandler (int err, string api, string result);
```

The SDK triggers this callback when an API method is executed.

<table>
<thead>
<td>Name</td>
<td>Description</td>
</thead> 
<tbody>
<tr>
<td><code>err</code></td>
<td><a href="https://docs.agora.io/en/Interactive%20Gaming/the_error_game?platform=All%20Platforms#errorcode">Error code</a> that the SDK returns when the method call fails. If the SDK returns 0, then the method call was successful.</td>
</tr>
<tr>
<td><code>api</code></td>
<td>The method executed by the SDK.</td>
</tr>
<tr>
<td><code>result</code></td>
<td>The result of the method call.</td>
</tr>
</tbody>
</table>



#### Token Expired Callback (RequestTokenHandler)

```
public delegate void RequestTokenHandler ();
```

When a token is specified by calling the `joinChannel` method, if the SDK loses connection with the Agora server due to network issues, the token may expire after a certain period of time and a new token may be required to reconnect to the server.

This callback notifies the application the need to generate a new token, and calls the `renewToken` method to renew the token.

This function was previously provided when the callback reported `onError`: ERR_TOKEN_EXPIRED (109) and ERR_INVALID_TOKEN (110). Starting from v1.7.3, the old method still works, but Agora recommends using this callback instead.

#### First Remote Video Frame Received and Decoded Callback (OnFirstRemoteVideoDecodedHandler)

```
public delegate void OnFirstRemoteVideoDecodedHandler (uint uid, int width, int height, int elapsed);
```

The SDK triggers this callback upon receiving and successfully decoding the first frame of the remote video. The application configures the user view settings in this callback.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>uid</code></td>
<td>User ID of the user whose video streams are received.</td>
</tr>
<tr><td><code>width</code></td>
<td>Width (in pixels) of the video stream.</td>
</tr>
<tr><td><code>height</code></td>
<td>Height (in pixels) of the video stream.</td>
</tr>
<tr><td><code>elapsed</code></td>
<td>Time elapsed (ms) from calling the <code>joinChannel</code> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>



#### Video Size Changed Callback (OnVideoSizeChangedHandler)

```
public delegate void OnVideoSizeChangedHandler (uint uid, int width, int height, int elapsed);
```

The SDK triggers this callback when the video size of the specific user changes.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>uid</code></td>
<td>User ID of the specific user.</td>
</tr>
<tr><td><code>width</code></td>
<td>Width (in pixels) of the video stream.</td>
</tr>
<tr><td><code>height</code></td>
<td>Height (in pixels) of the video stream.</td>
</tr>
<tr><td><code>elapsed</code></td>
<td>Time elapsed (ms) from calling the <code>joinChannel</code> method until the SDK triggers this callback.</td>
</tr>
</tbody>
</table>

<a name = onMicrophoneEnabledHandler></a>
#### Microphone Enabled Callback (OnMicrophoneEnabledHandler)

```
public delegate void OnMicrophoneEnabledHandler (bool isEnabled);
```

The SDK triggers this callback when the microphone is enabled or disabled.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>isEnabled</code></td>
<td>
<div><ul>
<li><code>True</code>: The microphone is enabled.</li>
	<li><code>False</code>: The microphone is disabled.</li>
</ul>
</div>
</td>
</tr>
</tbody>
</table>

#### Client Role Changed Callback (OnClientRoleChangedHandler)

```
public delegate void OnClientRoleChangedHandler(int oldRole, int newRole)
```

When you set the channel profile as Live Broadcast when calling the `setChannelProfile` method, the SDK triggers this callback when a user role changes in the channel.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<tbody>
<tr><td><strong>Name</strong></td>
<td><strong>Description</strong></td>
</tr>
<tr><td><code>oldRole</code></td>
<td>The user role that you switched from.</td>
</tr>
<tr><td><code>newRole</code></td>
<td>The user role that you switched to.</td>
</tr>
</tbody>
</table>



#### User Video Muted Callback (OnUserMuteVideoHandler)

```
public delegate void OnUserMuteVideoHandler (uint uid, bool muted);
```

The SDK triggers this callback when another user has paused/resumed his/her video stream.

> Currently, this callback returns invalid when the number of users in a channel exceeds 20, which will be improved in the future.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID.</td>
</tr>
	<tr><td><code>muted</code></td>
<td><ul>
<li>True: The remote user pauses his/her video.</li>
<li>False: The remote user resumes his/her video.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>


<a id = "iaudioeffectmanager"></a>
## IAudioEffectManager Interface Class

### Set Voice-only Mode (SetVoiceOnlyMode)

```
int SetVoiceOnlyMode(bool enable);
```

This method sets to voice-only mode (transmit the audio stream only), and the other streams are ignored; for example the sound of the keyboard strokes.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>enable</code></td>
<td><p>True: Enables voice-only mode.</p>
<p>False: Disables voice-only mode.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Set the Voice Position of the Remote User (SetRemoteVoicePosition)

```
int SetRemoteVoicePosition(uint uid, double pan, double gain);
```

Sets the voice position of the remote user.

> This method is valid only for earphones, and is invalid when the speakerphone is enabled.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID of the remote user.</td>
</tr>
<tr><td><code>pan</code></td>
<td><p>Sets whether to change the spatial position of the audio effect. The value ranges between -1 and 1:</p>
<ul>
<li>0: The audio effect shows right ahead; stereo effect.</li>
<li>-1: The audio effect shows on the left.</li>
<li>1: The audio effect shows on the right.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td><p><code>gain</code></p>
<p>Return Value</p>
</td>
<td><p>Sets whether to change the volume of a single audio effect. The value ranges between 0.0 and 100.0.</p>
<p>The default value is 100.0. The smaller the number, the lower the volume.</p>
<ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
</tbody>
</table>



### Set the Local Voice Pitch (SetLocalVoicePitch)

```
int SetLocalVoicePitch (double pitch);
```

This method changes the voice pitch of the local speaker.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>uid</code></td>
<td>User ID of the remote user.</td>
</tr>
<tr><td><code>pitch</code></td>
<td>Voice frequency. The value ranges between 0.5 and 2.0. The default value is 1.0.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Get the Audio Effect Volume (GetEffectsVolume)

```
double GetEffectsVolume();
```

This method gets the volume of the audio effects. The value ranges between 0.0 and 100.0.

### Set the Audio Effect Volume (SetEffectsVolume)

```
int SetEffectsVolume(double volume);
```

This method sets the volume of the audio effects.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>volume</code></td>
<td>The value ranges from 0.0 to 100.0 (default).</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Play the Audio Effect (PlayEffect)

```
int PlayEffect (int soundId, String filePath,
              bool loop = false,
              double pitch = 1.0D,
              double pan = 0.0D,
              double gain = 100.0D
);
```

This method plays the audio effect.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID. <sup>[2]</sup></td>
</tr>
<tr><td><code>filePath</code></td>
<td>Absolute path of the audio effect file.</td>
</tr>
<tr><td><code>loop</code></td>
<td><p>Sets whether to play the audio effect in loops:</p>
<ul>
<li>True: Yes.</li>
<li>False: (Default) No.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>pitch</code></td>
<td><p>Sets whether to change the frequency of the audio effect.</p>
<p>The value ranges between 0.5 and 2. 1.0 is the default value, which means no need to change the frequency.</p>
<p>The smaller the value, the lower the frequency.</p>
</td>
</tr>
<tr/>
<tr/>
<tr><td><code>pan</code></td>
<td><p>Sets whether to change the spatial position of the audio effect. The value ranges between -1 and 1:</p>
<ul>
<li>0: The audio effect shows right ahead; stereo effect.</li>
<li>-1: The audio effect shows on the left.</li>
<li>1: The audio effect shows on the right.</li>
</ul>
</td>
</tr>
<tr/>
<tr/>
<tr/>
<tr><td><code>gain</code></td>
<td><p>Sets whether to change the volume of a single audio effect. The value ranges between 0.0 and 100.0 (default). The smaller the value, and lower the volume.</p>
</td>
</tr>
<tr/>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>


> If the audio effect is loaded into the memory through the `preloadEffect` method, ensure that `soundId` set is the same as in the `preloadEffect` method.

### Stop Playing the Audio Effect (StopEffect)

```
int StopEffect(int soundId);
```

This method stops playing a specific audio effect.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Stop Playing all Audio Effects (StopAllEffects)

```
int StopAllEffects();
```

This method stops playing all audio effects.

### Preload an Audio Effect (PreloadEffect)

```
int PreloadEffect(int soundId, String filePath);
```

This method preloads a specific audio effect file (compressed audio file) to the memory.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID.</td>
</tr>
<tr><td><code>filePath</code></td>
<td>Path and file name of the effect audio file to be preloaded.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Release an Audio Effect (UnloadEffect)

```
int UnloadEffect(int soundId);
```

This method releases a specific preloaded audio effect from the memory.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Pause an Audio Effect (PauseEffect)

```
virtual int PauseEffect(int soundId);
```

This method pauses a specific audio effect.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Pause all Audio Effects (PauseAllEffects)

```
int PauseAllEffects();
```

This method pauses all audio effects.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Resume an Audio Effect (ResumeEffect)

```
int ResumeEffect(int soundId);
```

This method resumes playing a specific audio effect.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td><code>soundId</code></td>
<td>ID of the audio effect. Each audio effect has a unique ID.</td>
</tr>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



### Resume all Audio Effects (ResumeAllEffects)

```
int ResumeAllEffects();
```

This method resumes all audio effects.

<table>
<colgroup>
<col/>
<col/>
</colgroup>
<thead>
<tr><th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr><td>Return Value</td>
<td><ul>
<li>0: Method call succeeded.</li>
<li>&lt;0: Method call failed.</li>
</ul>
</td>
</tr>
<tr/>
</tbody>
</table>



## Error Codes

See [Error Codes and Warning Codes](../../en/API%20Reference/the_error_game.md).



